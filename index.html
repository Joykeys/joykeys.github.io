<!DOCTYPE html>
<html lang="zh-">

<head>
    <meta charset="UTF-8">
    <title>首页</title>
    <meta name="keyword" content="网页关键字-zxhh.eu.org">
    <meta name="description" content="网页描述-zxhh.eu.org">
</head>

<body>
    Hello,world！
    <div id="div">
        <ul id="body-ul">
        </ul>
    </div>
    <div>
        <input type="button" onclick="ToGet()" value="发送Get请求" />
        <input type="button" onclick="ToPost()" value="发送Post请求" />

    </div>
    <script type="text/javascript">

        function ToGet() {

            var httpRequest = new XMLHttpRequest();//第一步：建立所需的对象
            httpRequest.open('GET', 'http://wxl.ukeys.top/adminapi/keyword/getlist?status=1&pageIndex=1&pageSize=10', true);//第二步：打开连接  将请求参数写在url中  ps:"./Ptest.php?name=test&nameone=testone"
            httpRequest.send();//第三步：发送请求  将请求参数写在URL中
            /**
             * 获取数据后的处理程序
             */
            httpRequest.onreadystatechange = function () {
                if (httpRequest.readyState == 4 && httpRequest.status == 200) {
                    var json = httpRequest.responseText;//获取到json字符串，还需解析
                    console.log(json);
                }
            };

        }
        function ToPost() {
            var httpRequest = new XMLHttpRequest();//第一步：创建需要的对象
            httpRequest.open('POST', 'http://wxl.ukeys.top/adminapi/admin/login?userName=Admin&password=123456', true); //第二步：打开连接
            httpRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");//设置请求头 注：post方式必须设置请求头（在建立连接后设置请求头）
            httpRequest.send();//发送请求 将情头体写在send中
            /**
             * 获取数据后的处理程序
             */
            httpRequest.onreadystatechange = function () {//请求后的回调接口，可将请求成功后要执行的程序写在其中
                if (httpRequest.readyState == 4 && httpRequest.status == 200) {//验证请求是否发送成功
                    var json = httpRequest.responseText;//获取到服务端返回的数据
                    console.log(json);
                    var data = JSON.parse(json);
                    let ul = document.getElementById('body-ul');
                    for (let i = 0; i < data.Data.Count; i++) {
                        console.log(data.Data[i])
                        let li = document.createElement("li");
                        li.innerHTML = "li值：" + i;
                        ul.appendChild(li)
                    }
                }
            };
        }


    </script>
</body>

</html>
